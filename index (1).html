<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sale4u ‚Äî Home</title>
<style>
/* ---------- UI (mobile-first) ---------- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
*{box-sizing:border-box}
body{font-family:'Poppins',sans-serif;margin:0;background:#f3f6f9;color:#07213a}
.header{background:linear-gradient(90deg,#cff0f3,#eaf8ee);padding:12px 14px;text-align:center;position:sticky;top:0;z-index:40;border-bottom:1px solid rgba(7,33,58,0.06)}
.logo{font-weight:700;font-size:20px;color:#052a45}
.top-search{display:flex;gap:8px;padding:10px;align-items:center}
.search-box{flex:1;background:#fff;border-radius:999px;padding:8px 12px;display:flex;align-items:center;box-shadow:0 4px 14px rgba(2,6,23,0.06)}
.search-box input{flex:1;border:0;outline:none;font-size:14px}
.small-ico{width:36px;height:36px;border-radius:8px;background:#fff;border:0;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(2,6,23,0.04);font-size:18px}

/* category strip */
.cat-strip{display:flex;overflow:auto;padding:8px 12px;gap:10px;background:transparent}
.cat-item{min-width:78px;background:#fff;border-radius:12px;padding:8px;text-align:center;box-shadow:0 6px 18px rgba(2,6,23,0.04);border:1px solid rgba(2,6,23,0.03)}
.cat-ico{font-size:20px}
.cat-label{font-size:12px;margin-top:6px;color:#07213a}

/* hero banner */
.hero{margin:12px;padding:0 12px}
.hero .banner{width:100%;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(2,6,23,0.06)}
.hero img{width:100%;height:160px;object-fit:cover}

/* horizontal sections */
.section{margin-top:14px}
.section-head{display:flex;justify-content:space-between;align-items:center;padding:0 12px}
.section-head h3{font-size:16px;color:#07213a}
.section-head button{background:transparent;border:0;color:#0078d7;font-weight:600}

/* horizontal scroll */
.h-scroll{display:flex;gap:12px;padding:12px;overflow:auto}
.product-card{min-width:156px;background:#fff;border-radius:12px;padding:10px;box-shadow:0 8px 24px rgba(2,6,23,0.06);border:1px solid rgba(2,6,23,0.03)}
.product-card img{width:100%;height:110px;object-fit:cover;border-radius:8px}
.p-title{font-size:13px;margin-top:8px;height:36px;overflow:hidden;color:#07213a}
.p-price-label{font-size:12px;color:#666;margin-top:4px}
.p-price-val{font-weight:700}
.p-sale4u{color:#b12704;} /* Sale4u Price */
.p-amazon{color:#0078d7;} /* Amazon Price */
.p-flipkart{color:#008060;} /* Flipkart Price */
.p-prices{margin-top:6px}
.p-actions{display:flex;flex-direction:column;gap:6px;margin-top:8px}

/* grid list (all products area) */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;padding:12px}

/* modal */
.modal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;padding:12px;background:rgba(2,6,23,0.28);z-index:80}
.modal-card{width:100%;max-width:520px;background:#fff;border-radius:12px;padding:14px;box-shadow:0 12px 36px rgba(2,6,23,0.2)}
.modal-card.admin{background:linear-gradient(180deg,#071021,#0f2240);color:#fff}
.modal-card input, .modal-card textarea, .modal-card select{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);color:#07213a;}
.modal-card.admin input, .modal-card.admin select{background:#1a2b4b;color:#fff;border-color:#32466e}
.modal-card.admin option {color:#07213a}


/* buttons */
.btn{padding:9px 12px;border-radius:10px;border:0;font-weight:700;cursor:pointer;width:100%;text-align:center;}
.btn.primary{background:#0078d7;color:#fff}
.btn.ghost{background:transparent;border:1px solid rgba(2,6,23,0.06);color:#07213a}
.btn.amazon{background:#ff9900;color:#000} /* Amazon color */
.btn.flipkart{background:#2874f0;color:#fff} /* Flipkart color */

/* --- Bottom Nav CSS Updated for 'Moveable' (Removed 'position:fixed') --- */
.bottom-nav{
    /* Removed: position:fixed; left:0; right:0; bottom:0; */
    margin-top: 24px; /* Added spacing to separate it from the content above */
    background:#000000; /* Black strip */
    padding:10px 16px; 
    border-top:1px solid #333; 
    display:flex;
    justify-content: flex-start; /* Aligns Seller to the left */
    align-items:center;
    z-index:50;
    height: 60px;
}

/* Seller Button Style/Position */
.bn-seller{
    background:#ffcc00; /* Yellow */
    color:#000000; /* Black text */
    padding:9px 12px;
    border-radius:8px;
    font-weight:700;
    font-size:12px;
    cursor:pointer;
    min-width:60px; 
    text-align:center;
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.3); 
}
.bn-seller:hover{background:#ffdb4d}


/* small utility */
.row{display:flex;gap:8px}
.small{font-size:13px}

/* Admin Button Fix */
.admin-actions {
    display: flex;
    gap: 8px;
    margin-top: 8px;
    flex-wrap: wrap; 
}
.admin-actions .btn {
    flex: 1 1 30%; 
    min-width: 100px;
}

/* responsive */
@media(min-width:720px){
  .hero img{height:300px}
  .product-card img{height:140px}
  .p-actions{flex-direction:row;} /* Actions row on desktop */
  .p-actions button{width:auto;}
  .admin-actions .btn {
    flex: 0 1 auto; 
  }
}
</style>
</head>
<body data-page="index">

  <div class="header">
    <div class="logo">Sale4u</div>
  </div>

  <div class="top-search">
    <div class="search-box">
      <input id="searchInput" placeholder="Search for products, brands and more">
    </div>
  </div>

  <div class="cat-strip" id="catStrip">
    <div class="cat-item" onclick="navigate('index.html')">
      <div class="cat-ico">üè†</div><div class="cat-label">Home</div>
    </div>
    
    <div class="cat-item" onclick="navigate('clothes.html')">
      <div class="cat-ico">üëï</div><div class="cat-label">Clothes</div>
    </div>
    <div class="cat-item" onclick="navigate('shoes.html')">
      <div class="cat-ico">üëü</div><div class="cat-label">Shoes</div>
    </div>
    <div class="cat-item" onclick="navigate('mobiles.html')">
      <div class="cat-ico">üì±</div><div class="cat-label">Mobiles</div>
    </div>
    <div class="cat-item" onclick="scrollToSection('deals')">
      <div class="cat-ico">üè∑Ô∏è</div><div class="cat-label">Deals</div>
    </div>
    <div class="cat-item">
      <div class="cat-ico">üéÅ</div><div class="cat-label">Rewards</div>
    </div>
  </div>

  <div class="hero">
    <div class="banner">
      <img src="https://images.unsplash.com/photo-1593642632822-4a00dc735f5c?w=1200&q=80&auto=format&fit=crop&crop=entropy&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
           alt="Premium Sale Event Banner - Shop Now">
    </div>
  </div>

  <main>
    <section class="section" id="clothes">
      <div class="section-head"><h3>Keep shopping ‚Äî Clothes</h3><button onclick="navigate('clothes.html')">See all</button></div>
      <div class="h-scroll" id="hClothes"></div>
    </section>

    <section class="section" id="shoes">
      <div class="section-head"><h3>Trending Shoes</h3><button onclick="navigate('shoes.html')">See all</button></div>
      <div class="h-scroll" id="hShoes"></div>
    </section>

    <section class="section" id="mobiles">
      <div class="section-head"><h3>Mobile Accessories</h3><button onclick="navigate('mobiles.html')">See all</button></div>
      <div class="h-scroll" id="hMobiles"></div>
    </section>

    <section style="padding:12px">
      <h3 style="margin-bottom:8px">Latest Products</h3>
      <div class="grid" id="gridAll"></div>
    </section>
  </main>
  
  <div class="bottom-nav">
    <div class="bn-seller" onclick="openModal('sellerModal')">Seller</div>
  </div>

  <div class="modal" id="buyerModal" aria-hidden="true">
    <div class="modal-card">
      <h4>Order via WhatsApp</h4>
      <div id="buyTitle" style="font-weight:700;margin-bottom:8px"></div>
      
      <input id="buyerName" placeholder="Your Full Name">
      <textarea id="buyerAddress" placeholder="Full Delivery Address" rows="2"></textarea>
      <input id="buyerMobile" type="tel" placeholder="Mobile Number">
      <input id="buyerPincode" type="number" placeholder="Pincode">

      <div style="margin-top:10px;padding:8px;background:#e6f7ff;border:1px solid #b3e0ff;border-radius:6px;font-size:13px;color:#004085;">
        ‚úÖ **Cash on Delivery (COD) is available!** </div>

      <div style="margin-top:10px;display:flex;gap:8px">
        <button class="btn primary" onclick="confirmBuy()">‚úÖ Contact on WhatsApp</button>
        <button class="btn ghost" onclick="closeModal('buyerModal')">Cancel</button>
      </div>
    </div>
  </div>

  <div class="modal" id="sellerModal" aria-hidden="true">
    <div class="modal-card admin">
      <h4>Seller Login (Admin)</h4>
      <input type="password" id="adminPass" placeholder="Enter admin password">
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn primary" onclick="checkAdmin()">Login</button>
        <button class="btn ghost" onclick="closeModal('sellerModal')">Close</button>
      </div>

      <div id="adminArea" style="display:none;margin-top:12px">
        <h5 style="margin-bottom:8px">Add Product (Max 100)</h5>
        <input id="pTitle" placeholder="Product title">
        <div class="row">
          <input id="pPrice" type="number" placeholder="Sale4u Price ‚Çπ">
          <input id="pStock" type="number" placeholder="Stock">
        </div>
        
        <select id="pCategory">
            <option value="">Select Page Category</option>
            <option value="clothes">Clothes</option>
            <option value="shoes">Shoes</option>
            <option value="mobiles">Mobiles</option>
        </select>

        <div class="row">
            <input id="pAmazonPrice" type="number" placeholder="Amazon Price ‚Çπ">
            <input id="pFlipkartPrice" type="number" placeholder="Flipkart Price ‚Çπ">
        </div>
        
        <input id="pImage" placeholder="Image URL">
        <div class="row">
          <input id="pAmazon" placeholder="Amazon product link">
          <input id="pFlipkart" placeholder="Flipkart product link">
        </div>
        
        <div class="admin-actions"> 
          <button class="btn primary" onclick="addProductAdmin()">Add Product</button>
          <button class="btn ghost" onclick="showAdminList()">Manage</button>
          <button class="btn ghost" onclick="closeModal('sellerModal')">Close</button>
        </div>
        
        <div id="adminList" style="margin-top:10px"></div>
        <div style="margin-top:10px">
          <button class="btn ghost" onclick="logoutAdmin()">Logout Admin</button>
        </div>
      </div>
    </div>
  </div>

<script>
/* ---------- Data & Config ---------- */
const WA = "916376196229"; // The target WhatsApp number: 6376196229
const MAXP = 100;
let products = JSON.parse(localStorage.getItem('sale4u_products')||'[]');
if(products.length===0){
  // Initial product data with price fields
  products = [
    { title:"Men's T-Shirt", price:499, amazonPrice: 549, flipkartPrice: 519, category:"clothes", image:"https://m.media-amazon.com/images/I/71f1Y7w1yVL._AC_UL480_FMwebp_QL65_.jpg", amazon:"#", flipkart:"#"},
    { title:"Running Shoes", price:999, amazonPrice: 1050, flipkartPrice: 975, category:"shoes", image:"https://m.media-amazon.com/images/I/71Rla0yjJ1L._AC_UL480_FMwebp_QL65_.jpg", amazon:"#", flipkart:"#"},
    { title:"Wireless Earbuds", price:799, amazonPrice: 850, flipkartPrice: 820, category:"mobiles", image:"https://m.media-amazon.com/images/I/61a8Qq7kBFL._AC_UL480_FMwebp_QL65_.jpg", amazon:"#", flipkart:"#"}
  ];
  localStorage.setItem('sale4u_products', JSON.stringify(products));
}

/* ---------- Helpers ---------- */
function saveProducts(){ localStorage.setItem('sale4u_products', JSON.stringify(products.slice(0,MAXP))); }
function navigate(url){ window.location.href = url; }
function scrollToTop(){ window.scrollTo({top:0,behavior:'smooth'}); }
function scrollToSection(id){ const el=document.getElementById(id); if(el) el.scrollIntoView({behavior:'smooth'}); }

/* ---------- Render functions ---------- */
function renderHoriz(catId, catName){
  const container = document.getElementById(catId);
  if(!container) return;
  container.innerHTML = '';
  const list = products.filter(p=> (p.category||'').toLowerCase()===catName);
  if(list.length===0){ container.innerHTML='<div style="padding:8px;color:#666">No items</div>'; return; }
  list.forEach(p=>{
    const div = document.createElement('div');
    div.className = 'product-card';
    div.innerHTML = `<img src="${p.image}" alt=""><div class="p-title">${escapeHtml(p.title)}</div>
      <div class="p-prices">
        <div class="p-price-label">Sale4u Price: <span class="p-price-val p-sale4u">‚Çπ${p.price}</span></div>
        <div class="p-price-label">Amazon Price: <span class="p-price-val p-amazon">‚Çπ${p.amazonPrice || 'N/A'}</span></div>
        <div class="p-price-label">Flipkart Price: <span class="p-price-val p-flipkart">‚Çπ${p.flipkartPrice || 'N/A'}</span></div>
      </div>
      <div class="p-actions">
        <button class="btn primary" onclick="openBuyModal('${encodeURIComponent(p.title)}')">Buy on Sale4u</button>
        <button class="btn amazon" onclick="window.open('${p.amazon||'#'}','_blank')">Buy on Amazon</button>
        <button class="btn flipkart" onclick="window.open('${p.flipkart||'#'}','_blank')">Buy on Flipkart</button>
      </div>`;
    container.appendChild(div);
  });
}

function renderGrid(){
  const g = document.getElementById('gridAll');
  g.innerHTML='';
  products.forEach(p=>{
    const card = document.createElement('div');
    card.className = 'product-card';
    card.style.width = '100%';
    card.innerHTML = `<img src="${p.image}" alt=""><div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
      <div style="flex:1"><div class="p-title">${escapeHtml(p.title)}</div>
      <div class="p-prices">
        <div class="p-price-label">Sale4u Price: <span class="p-price-val p-sale4u">‚Çπ${p.price}</span></div>
        <div class="p-price-label">Amazon Price: <span class="p-price-val p-amazon">‚Çπ${p.amazonPrice || 'N/A'}</span></div>
        <div class="p-price-label">Flipkart Price: <span class="p-price-val p-flipkart">‚Çπ${p.flipkartPrice || 'N/A'}</span></div>
      </div>
      </div>
      </div>
      <div class="p-actions">
        <button class="btn primary" onclick="openBuyModal('${encodeURIComponent(p.title)}')">Buy on Sale4u</button>
        <button class="btn amazon" onclick="window.open('${p.amazon||'#'}','_blank')">Buy on Amazon</button>
        <button class="btn flipkart" onclick="window.open('${p.flipkart||'#'}','_blank')">Buy on Flipkart</button>
      </div>`;
    g.appendChild(card);
  });
}

/* ---------- init render ---------- */
function initRender(){ renderHoriz('hClothes','clothes'); renderHoriz('hShoes','shoes'); renderHoriz('hMobiles','mobiles'); renderGrid(); }
initRender();

/* ---------- Buy modal flow (WhatsApp integration) ---------- */
function openBuyModal(titleEnc){
  const title = decodeURIComponent(titleEnc);
  document.getElementById('buyTitle').innerText = title;
  // Clear previous values
  document.getElementById('buyerName').value=''; 
  document.getElementById('buyerAddress').value='';
  document.getElementById('buyerMobile').value=''; 
  document.getElementById('buyerPincode').value=''; 
  openModal('buyerModal');
}
function confirmBuy(){
  // Grab values in the requested order
  const name = document.getElementById('buyerName').value.trim();
  const address = document.getElementById('buyerAddress').value.trim();
  const mobile = document.getElementById('buyerMobile').value.trim();
  const pincode = document.getElementById('buyerPincode').value.trim();
  const title = document.getElementById('buyTitle').innerText;

  if(!name||!mobile||!pincode||!address){ alert('Please fill all required fields (Name, Address, Mobile, Pincode) to proceed with the WhatsApp order.'); return; }
  
  // Format message for WhatsApp using %0A for new line
  const newLine = '%0A';
  const msg = 
      `*ORDER REQUEST - Sale4u*${newLine}${newLine}` +
      `I want to buy: *${title}*${newLine}${newLine}` +
      `*Customer Details:*${newLine}` +
      `Name: ${name}${newLine}` +
      `Address: ${address}${newLine}` +
      `Mobile: ${mobile}${newLine}` +
      `Pincode: ${pincode}${newLine}` +
      `Payment Method: Cash on Delivery (COD)${newLine}${newLine}` +
      `_Please confirm the order and delivery details._`;
  
  // Use the defined WA number for WhatsApp contact
  window.open(`https://wa.me/${WA}?text=${msg}`,'_blank');
  
  closeModal('buyerModal');
}

/* ---------- modal helpers ---------- */
function openModal(id){ const m=document.getElementById(id); if(m){ m.style.display='flex'; m.setAttribute('aria-hidden','false'); } }
function closeModal(id){ const m=document.getElementById(id); if(m){ m.style.display='none'; m.setAttribute('aria-hidden','true'); } }

/* ---------- Admin / Seller (Updated) ---------- */
function checkAdmin(){
  const p = document.getElementById('adminPass').value;
  if(p==='1234'){ document.getElementById('adminArea').style.display='block'; document.getElementById('adminPass').value=''; showAdminList(); }
  else alert('Wrong password!');
}
function logoutAdmin(){ document.getElementById('adminArea').style.display='none'; closeModal('sellerModal'); }
function addProductAdmin(){
  if(products.length>=MAXP){ alert('Product limit reached'); return; }
  const t = document.getElementById('pTitle').value.trim();
  const price = parseInt(document.getElementById('pPrice').value);
  const stock = parseInt(document.getElementById('pStock').value)||0;
  const cat = document.getElementById('pCategory').value.trim().toLowerCase(); 
  const img = document.getElementById('pImage').value.trim();
  const am = document.getElementById('pAmazon').value.trim();
  const fk = document.getElementById('pFlipkart').value.trim();
  
  const amPrice = parseInt(document.getElementById('pAmazonPrice').value) || 0;
  const fkPrice = parseInt(document.getElementById('pFlipkartPrice').value) || 0;

  if(!t||!price||!cat||!img){ alert('Please fill title, price, category, and image URL'); return; }
  
  products.push({
    title: t,
    price: price,
    stock: stock,
    category: cat,
    image: img,
    amazon: am,
    flipkart: fk,
    amazonPrice: amPrice,
    flipkartPrice: fkPrice
  });
  
  saveProducts(); initRender();
  alert('Product added'); 
  document.querySelectorAll('#pTitle, #pPrice, #pStock, #pImage, #pAmazon, #pFlipkart, #pAmazonPrice, #pFlipkartPrice').forEach(i=>i.value='');
  document.getElementById('pCategory').value = ''; 
}
function showAdminList(){
  const box = document.getElementById('adminList'); box.innerHTML='';
  products.forEach((p,i)=>{
    const row = document.createElement('div'); row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.padding='6px 0';
    row.innerHTML = `<div style="font-size:13px;color:#fff">${escapeHtml(p.title)} <small style="color:#ccc">(${p.category})</small></div>
      <div><button style="background:#ef4444;color:#fff;border:none;padding:6px 8px;border-radius:8px" onclick="deleteProduct(${i})">Delete</button></div>`;
    box.appendChild(row);
  });
}
function deleteProduct(i){ if(!confirm('Delete product?')) return; products.splice(i,1); saveProducts(); initRender(); showAdminList(); }

/* ---------- utilities ---------- */
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
</script>
</body>
          </html>
    
